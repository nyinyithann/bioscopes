// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as React from "react";
import * as Belt_Array from "rescript/lib/es6/belt_Array.js";
import * as UrlQueryParam from "../routes/UrlQueryParam.js";
import * as MoviesProvider from "../providers/MoviesProvider.js";

function string(prim) {
  return prim;
}

function MovieList(Props) {
  var match = UrlQueryParam.useQueryParams(undefined);
  var setQueryParam = match[1];
  var queryParam = match[0];
  var match$1 = MoviesProvider.useMoviesContext(undefined);
  var loadMovies = match$1.loadMovies;
  React.useEffect((function () {
          switch (queryParam.TAG | 0) {
            case /* Category */0 :
                var match = queryParam._0;
                Curry._1(loadMovies, {
                      TAG: /* Category */0,
                      _0: {
                        name: match.name,
                        page: match.page
                      }
                    });
                break;
            case /* Genre */1 :
                var match$1 = queryParam._0;
                Curry._1(loadMovies, {
                      TAG: /* Genre */1,
                      _0: {
                        id: match$1.id,
                        name: match$1.name,
                        page: match$1.page,
                        sort_by: match$1.sort_by
                      }
                    });
                break;
            default:
              
          }
        }), []);
  var tmp;
  switch (queryParam.TAG | 0) {
    case /* Category */0 :
        tmp = queryParam._0.name;
        break;
    case /* Genre */1 :
        tmp = queryParam._0.name;
        break;
    default:
      tmp = "oops";
  }
  return React.createElement("div", {
              className: "w-full h-[100vh] flex flex-col bg-100",
              id: "movie-list-here"
            }, tmp, React.createElement("button", {
                  className: "p-4 bg-300",
                  onClick: (function (param) {
                      Curry._1(setQueryParam, {
                            TAG: /* Movie */3,
                            _0: 7
                          });
                    })
                }, "movie 7"), React.createElement(React.Fragment, undefined, Belt_Array.map(match$1.movies.results, (function (m) {
                        return React.createElement("div", {
                                    key: String(m.id)
                                  }, m.title);
                      }))));
}

var make = MovieList;

export {
  string ,
  make ,
}
/* react Not a pure module */
